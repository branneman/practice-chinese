{"version":3,"sources":["utils/render-route.js","utils/chinese.js","data/characters/index.js","data/words/index.js","data/words/eur/index.js","data/index.js","data/sentences/index.js","data/sentences/eur/index.js","utils/random.js","utils/type-checks.js","containers/pages/practice/read.js","utils/arabic2chinese.js","containers/pages/numbers/index.js","containers/app/routes.js","containers/pages/home.js","containers/pages/not-found.js","presenters/atoms/logo/index.js","presenters/atoms/nav/index.js","presenters/molecules/header/index.js","containers/app/index.js","index.js"],"names":["RenderRoute","props","routes","map","route","i","key","path","render","component","RE_PUNCTUATION","RE_WHITESPACE","normalise","compose","s","replace","toLower","HSK1","DL","dl","reduce","concat","l1to3","l4","eurLesson4","data","radicals","characters","words","sentences","fn","read","id","name","directions","list","_vocab","question","x","radical","answers","join","english","validate","a","includes","pinyin","vocabs","vocab","character","word","chinese","prop","flatten","assoc","sentence","randomInt","min","max","Math","round","random","isArr","val","Array","isArray","shuffleData","xs","ys","slice","currentIndex","length","randomIndex","temporaryValue","floor","clone","mods","base","category","div1000","div100","div10x","div10","pattern_thousands","pattern_21_99","pattern_tens","pattern_0_10","div10x0","div10xx","pattern_hundreds","pattern_101_999","pattern_10_19","getSemiRandomInt","spec","weights","acc","weight","fill","weightedRandomInt","answerRef","useRef","useState","state","setState","format","setFormat","direction","setDirection","setAnswers","setQuestion","nextQuestion","next","useEffect","current","setTimeout","focus","e","preventDefault","keyCode","nextAction","window","addEventListener","removeEventListener","answer","value","correct","checkAnswer","className","ref","type","onClick","role","aria-label","results","n","filter","p","result","total","toString","percentage","toFixed","substr","getResults","abs","RegExp","arabic2chinese","attempt","isEqualCharacters","int","match","isExact","Logo","alt","src","Nav","isOpen","setOpen","renderRoutes","indent","to","find","y","isNotFound","sortRoutes","Header","App","basename","pkg","homepage","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.49ed73ae.chunk.js","sourcesContent":["import React from 'react'\nimport { Route, Switch } from 'react-router-dom'\n\nexport default function RenderRoute(props) {\n  return (\n    <Switch>\n      {props.routes.map((route, i) => (\n        <Route\n          key={i}\n          path={route.path}\n          render={(props) => (\n            <route.component {...props} routes={route.routes} />\n          )}\n        />\n      ))}\n    </Switch>\n  )\n}\n","import { compose, toLower } from 'ramda'\n\nconst RE_PUNCTUATION = /[.。,，‘’'!！?？\\-－]+/g // Both half and full-width\nconst RE_WHITESPACE = /\\s+/g\n\nconst punctuation = (s) => s.replace(RE_PUNCTUATION, '')\nconst whitespace = (s) => s.replace(RE_WHITESPACE, '')\n\nexport const normalise = compose(punctuation, whitespace, toLower)\n\nexport const isEqualCharacters = (attempt, answer) =>\n  normalise(attempt) === normalise(answer)\n","import hsk1 from './hsk1'\n\nexport default {\n  HSK1: hsk1,\n}\n","import dl from './dl'\nimport eur from './eur'\nimport eurLesson4 from './eur/4'\nimport hsk1 from './hsk1'\n\nexport default {\n  DL: dl,\n  'EUR: All': eur,\n  'EUR: Lesson 4': eurLesson4,\n  HSK1: hsk1,\n}\n","import { reduce, concat } from 'ramda'\n\nimport l1to3 from './1-3.json'\nimport l4 from './4.json'\n\nexport default reduce(concat, [], [l1to3, l4])\n","import { map, flatten, prop, assoc, join, includes } from 'ramda'\nimport { normalise } from '../utils/chinese'\n\nimport radicals from './radicals'\nimport characters from './characters'\nimport words from './words'\nimport sentences from './sentences'\n\nexport const data = {\n  radicals,\n  characters,\n  words,\n  sentences,\n}\n\nexport const fn = {\n  read: [\n    {\n      id: 'radicals',\n      name: 'Radicals',\n      directions: [\n        {\n          id: 'radical>english',\n          name: 'Radical to English',\n          list: (data, _vocab) => data.radicals,\n          question: (x) => x.radical,\n          answers: (x) => [join(', ', x.english)],\n          validate: (x, a) => includes(normalise(a), map(normalise, x.english)),\n        },\n        {\n          id: 'radical>pinyin',\n          name: 'Radical to Pinyin',\n          list: (data, _vocab) => data.radicals,\n          question: (x) => x.radical,\n          answers: (x) => [x.pinyin],\n          validate: (x, a) => normalise(x.pinyin) === normalise(a),\n        },\n      ],\n    },\n    {\n      id: 'characters',\n      name: 'Characters',\n      directions: [\n        // {\n        //   id: 'character>radical',\n        //   name: 'Character to Radical',\n        //   vocabs: ['HSK1'],\n        //   list: (data, vocab) => data.characters[vocab],\n        //   question: (x) => x.character,\n        //   answers: (x) => [x.radical],\n        //   validate: (x, a) => normalise(x.radical) === normalise(a),\n        // },\n        {\n          id: 'character>pinyin',\n          name: 'Character to Pinyin',\n          vocabs: ['HSK1'],\n          list: (data, vocab) => data.characters[vocab],\n          question: (x) => x.character,\n          answers: (x) => [x.pinyin],\n          validate: (x, a) => normalise(x.pinyin) === normalise(a),\n        },\n      ],\n    },\n    {\n      id: 'words',\n      name: 'Words',\n      directions: [\n        {\n          id: 'english>characters',\n          name: 'English to Characters',\n          vocabs: ['DL', 'EUR: All', 'EUR: Lesson 4', 'HSK1'],\n          list: (data, vocab) => data.words[vocab],\n          question: (x) => join(', ', x.english),\n          answers: (x) =>\n            map(({ word, pinyin }) => `${word} (${pinyin})`, x.chinese),\n          validate: (x, a) =>\n            includes(\n              normalise(a),\n              map(normalise, map(prop('word'), x.chinese))\n            ),\n        },\n        {\n          id: 'english>pinyin',\n          name: 'English to Pinyin',\n          vocabs: ['DL', 'EUR: All', 'EUR: Lesson 4', 'HSK1'],\n          list: (data, vocab) => data.words[vocab],\n          question: (x) => join(', ', x.english),\n          answers: (x) =>\n            map(({ word, pinyin }) => `${pinyin}（${word}）`, x.chinese),\n          validate: (x, a) =>\n            includes(\n              normalise(a),\n              map(normalise, map(prop('pinyin'), x.chinese))\n            ),\n        },\n        {\n          id: 'characters>english',\n          name: 'Characters to English',\n          vocabs: ['DL', 'EUR: All', 'EUR: Lesson 4', 'HSK1'],\n          list: (data, vocab) =>\n            flatten(\n              map(\n                (x) => map(assoc('english', x.english), x.chinese),\n                data.words[vocab]\n              )\n            ),\n          question: (x) => x.word,\n          answers: (x) => [join(', ', x.english)],\n          validate: (x, a) => includes(normalise(a), map(normalise, x.english)),\n        },\n        {\n          id: 'characters>pinyin',\n          name: 'Characters to Pinyin',\n          vocabs: ['DL', 'EUR: All', 'EUR: Lesson 4', 'HSK1'],\n          list: (data, vocab) =>\n            flatten(map(prop('chinese'), data.words[vocab])),\n          question: (x) => x.word,\n          answers: (x) => [x.pinyin],\n          validate: (x, a) => normalise(x.pinyin) === normalise(a),\n        },\n      ],\n    },\n    {\n      id: 'sentences',\n      name: 'Sentences',\n      directions: [\n        {\n          id: 'english>characters',\n          name: 'English to Characters',\n          vocabs: ['DL', 'EUR: All', 'EUR: Lesson 4'],\n          list: (data, vocab) => data.sentences[vocab],\n          question: (x) => join(', ', x.english),\n          answers: (x) =>\n            map(({ sentence, pinyin }) => `${sentence} (${pinyin})`, x.chinese),\n          validate: (x, a) =>\n            includes(\n              normalise(a),\n              map(normalise, map(prop('sentence'), x.chinese))\n            ),\n        },\n        {\n          id: 'english>pinyin',\n          name: 'English to Pinyin',\n          vocabs: ['EUR: All', 'EUR: Lesson 4'],\n          list: (data, vocab) => data.sentences[vocab],\n          question: (x) => join(', ', x.english),\n          answers: (x) =>\n            map(\n              ({ sentence, pinyin }) => `${pinyin}（${sentence}）`,\n              x.chinese\n            ),\n          validate: (x, a) =>\n            includes(\n              normalise(a),\n              map(normalise, map(prop('pinyin'), x.chinese))\n            ),\n        },\n        {\n          id: 'characters>english',\n          name: 'Characters to English',\n          vocabs: ['DL', 'EUR: All', 'EUR: Lesson 4'],\n          list: (data, vocab) => data.sentences[vocab],\n          question: (x) => join('，', map(prop('sentence'), x.chinese)),\n          answers: (x) => x.english,\n          validate: (x, a) => includes(normalise(a), map(normalise, x.english)),\n        },\n        {\n          id: 'characters>pinyin',\n          name: 'Characters to Pinyin',\n          vocabs: ['EUR: All', 'EUR: Lesson 4'],\n          list: (data, vocab) =>\n            flatten(map(prop('chinese'), data.sentences[vocab])),\n          question: (x) => x.sentence,\n          answers: (x) => [x.pinyin],\n          validate: (x, a) => normalise(x.pinyin) === normalise(a),\n        },\n        {\n          id: 'pinyin>english',\n          name: 'Pinyin to English',\n          vocabs: ['EUR: All', 'EUR: Lesson 4'],\n          list: (data, vocab) =>\n            flatten(\n              map(\n                (x) => map(assoc('english', x.english), x.chinese),\n                data.sentences[vocab]\n              )\n            ),\n          question: (x) => x.pinyin,\n          answers: (x) => x.english,\n          validate: (x, a) => includes(normalise(a), map(normalise, x.english)),\n        },\n      ],\n    },\n  ],\n}\n","import dl from './dl'\nimport eur from './eur'\nimport eurLesson4 from './eur/4'\n\nexport default {\n  DL: dl,\n  'EUR: All': eur,\n  'EUR: Lesson 4': eurLesson4,\n}\n","import { reduce, concat } from 'ramda'\n\nimport l1to3 from './1-3.json'\nimport l4 from './4.json'\n\nexport default reduce(concat, [], [l1to3, l4])\n","export function randomInt(min, max) {\n  return min + Math.round(Math.random() * (max - min))\n}\n\n/**\n * @example\n *   weightedRandomInt([\n *     { min: 0, max: 25, weight: 8 },\n *     { min: 26, max: 50, weight: 4 },\n *     { min: 51, max: 75, weight: 2 },\n *     { min: 76, max: 100, weight: 1 }\n *   ])\n * @param {Object<{ min: Number, max: Number, weight: Number }>} spec\n */\nexport function weightedRandomInt(spec) {\n  const weights = spec.reduce(\n    (acc, x, i) => acc.concat(Array(x.weight).fill(i)),\n    []\n  )\n  const rand = randomInt(0, weights.length - 1)\n  const { min, max } = spec[weights[rand]]\n  return randomInt(min, max)\n}\n\n/**\n * Fisher-Yates Shuffle: unbiased array shuffle algorithm\n * @param {Array} xs\n * @returns {Array}\n */\nexport function shuffle(xs) {\n  const ys = xs.slice()\n\n  let currentIndex = ys.length\n  let randomIndex = null\n  let temporaryValue = null\n\n  while (0 !== currentIndex) {\n    randomIndex = Math.floor(Math.random() * currentIndex)\n    currentIndex -= 1\n\n    temporaryValue = ys[currentIndex]\n    ys[currentIndex] = ys[randomIndex]\n    ys[randomIndex] = temporaryValue\n  }\n\n  return ys\n}\n","/**\n */\nexport function isDef(x) {\n  return !isUndef(x) && !isNull(x)\n}\n\n/**\n * Does not match: `null`\n */\nexport function isUndef(val) {\n  return typeof val === 'undefined'\n}\n\n/**\n * Does not match: `undefined`\n */\nexport function isNull(val) {\n  return val === null\n}\n\n/**\n */\nexport function isBool(val) {\n  return typeof val === 'boolean'\n}\n\n/**\n * Does not match: `NaN`, `Infinity`, `-Infinity`\n */\nexport function isNum(val) {\n  return typeof val === 'number' && isFinite(val)\n}\n\n/**\n * Does not match: `NaN`, `Infinity`, `-Infinity`\n */\nexport function isInt(val) {\n  return typeof val === 'number' && isFinite(val) && Math.floor(val) === val\n}\n\n/**\n */\nexport function isStr(val) {\n  return typeof val === 'string'\n}\n\n/**\n */\nexport function isArr(val) {\n  return Array.isArray(val)\n}\n\n/**\n * Does not match: arrays, functions, symbols\n */\nexport function isObj(val) {\n  return val === Object(val) && !isArr(val) && !isFunc(val) && !isSymbol(val)\n}\n\n/**\n */\nexport function isPOJO(x) {\n  return isObj(x) && Object.getPrototypeOf(x) === Object.prototype\n}\n\n/**\n */\nexport function isFunc(val) {\n  return typeof val === 'function'\n}\n\n/**\n */\nexport function isSymbol(val) {\n  return typeof val === 'symbol'\n}\n","import React, { useEffect, useRef, useState } from 'react'\nimport { compose, map, filter, assoc, clone } from 'ramda'\n\nimport { fn, data } from '../../../data'\n\n// import useVisualViewport from '../../../hooks/viewport'\nimport { shuffle } from '../../../utils/random'\nimport { isArr } from '../../../utils/type-checks'\n\nimport './index.scss'\n\nconst FOCUS_DELAY_MS = 50\nconst ENTER_KEY = 13\n\nexport const shuffleData = compose(shuffle, map(assoc('correct', null)), clone)\n\nexport const getResults = (answers) => {\n  const n = filter((x) => x.correct === true, answers)\n  const p = (n.length / answers.length) * 100\n  const result = {\n    total: answers.length.toString(),\n    correct: n.length.toString(),\n    percentage: p.toFixed(2).toString(),\n  }\n  if (result.percentage.substr(-3) === '.00') {\n    result.percentage = p.toFixed(0).toString()\n  }\n  return result\n}\n\nexport default function PracticeReadPage() {\n  const answerRef = useRef(null)\n\n  // const visualViewport = useVisualViewport()\n\n  const [state, setState] = useState('start')\n  const [format, setFormat] = useState()\n  const [direction, setDirection] = useState()\n\n  const [answers, setAnswers] = useState(null)\n  const checkAnswer = () => {\n    const x = answers[question]\n    x.answer = answerRef.current.value\n    x.correct = direction.validate(x, x.answer)\n\n    setAnswers(answers)\n    setState(x.correct ? 'correct' : 'incorrect')\n  }\n\n  const [question, setQuestion] = useState(0)\n  const nextQuestion = () => {\n    const next = question + 1\n    if (next >= answers.length) {\n      setState('done')\n    } else {\n      setQuestion(next)\n      setState('question')\n    }\n  }\n\n  useEffect(() => {\n    if (answerRef.current)\n      setTimeout(() => answerRef.current.focus(), FOCUS_DELAY_MS)\n  })\n\n  useEffect(() => {\n    const fn = (e) => {\n      e.preventDefault()\n      if (e.keyCode === ENTER_KEY) nextAction()\n    }\n    window.addEventListener('keyup', fn)\n    return () => window.removeEventListener('keyup', fn)\n  })\n\n  let nextAction = () => 0\n  switch (state) {\n    case 'question':\n      nextAction = () => checkAnswer()\n      return (\n        <section className='section section--read-practice'>\n          <p className='assignment-description'>Translate {direction.name}</p>\n          <p className='assignment-text'>\n            {direction.question(answers[question])}\n          </p>\n          <input ref={answerRef} className='practice-input' type='text' />\n          <button className='cta--next' onClick={nextAction}>\n            Check\n          </button>\n        </section>\n      )\n\n    case 'correct':\n      nextAction = () => nextQuestion()\n      return (\n        <section className='section section--correct section--read-practice'>\n          <p className='assignment-result'>\n            <span role='img' aria-label='check'>\n              ✔\n            </span>{' '}\n            Correct!\n          </p>\n          <button className='cta--next' onClick={nextAction}>\n            Continue\n          </button>\n        </section>\n      )\n\n    case 'incorrect':\n      nextAction = () => nextQuestion()\n      return (\n        <section className='section section--incorrect section--read-practice'>\n          <p className='assignment-result'>\n            <span role='img' aria-label='cross'>\n              ❌\n            </span>{' '}\n            Incorrect!\n          </p>\n          <p className='assignment-description'>Your answer:</p>\n          <p className='assignment-description'>{answers[question].answer}</p>\n          <p className='assignment-description'>Correct answer(s):</p>\n          {direction.answers(answers[question]).map((x) => (\n            <p className='assignment-description'>{x}</p>\n          ))}\n          <button className='cta--next' onClick={nextAction}>\n            Continue\n          </button>\n        </section>\n      )\n\n    case 'done':\n      nextAction = () => setState('start')\n      const results = getResults(answers)\n      return (\n        <section className='section section--vocab-practice'>\n          <p className='assignment-result'>\n            {results.correct} out of {results.total} ({results.percentage}%)\n          </p>\n          <button className='cta--next' onClick={nextAction}>\n            Restart\n          </button>\n        </section>\n      )\n\n    case 'choose-vocab':\n      nextAction = (vocab) => () => {\n        setAnswers(shuffleData(direction.list(data, vocab)))\n        setQuestion(0)\n        setState('question')\n      }\n      return (\n        <section className='section section--read-practice'>\n          <p className='assignment-description assignment-description--header'>\n            {format.name} &raquo; {direction.name}\n          </p>\n          <p className='assignment-description'>\n            What vocabulary do you want to practice?\n          </p>\n          {direction.vocabs.map((vocab) => (\n            <button className='cta' onClick={nextAction(vocab)}>\n              {vocab}\n            </button>\n          ))}\n        </section>\n      )\n\n    case 'choose-direction':\n      nextAction = (direction) => () => {\n        setDirection(direction)\n        if (isArr(direction.vocabs)) return setState('choose-vocab')\n\n        setAnswers(shuffleData(direction.list(data)))\n        setQuestion(0)\n        setState('question')\n      }\n      return (\n        <section className='section section--read-practice'>\n          <p className='assignment-description assignment-description--header'>\n            {format.name}\n          </p>\n          <p className='assignment-description'>\n            What direction do you want to practice?\n          </p>\n          {format.directions.map((direction) => (\n            <button\n              className='cta cta--smaller'\n              onClick={nextAction(direction)}\n            >\n              {direction.name}\n            </button>\n          ))}\n        </section>\n      )\n\n    default:\n    case 'start':\n    case 'choose-type':\n      nextAction = (format) => () => {\n        setFormat(format)\n        setState('choose-direction')\n      }\n      return (\n        <section className='section section--read-practice'>\n          <p className='assignment-description'>\n            What format do you want to practice?\n          </p>\n          {fn.read.map((format) => (\n            <button className='cta' onClick={nextAction(format)}>\n              {format.name}\n            </button>\n          ))}\n        </section>\n      )\n  }\n}\n","const mods = {\n  neg: '负', // fù\n  1e1: '十', // shí\n  1e2: '百', // bǎi\n  1e3: '千', // qiān\n  1e4: '万', // wàn\n  1e8: '亿', // yì\n  1e12: '兆', // zhào\n  1e16: '京', // jīng\n  1e20: '垓', // gāi\n  1e24: '秭', // zǐ\n  1e28: '穰', // ráng\n  1e32: '沟', // gōu\n  1e36: '涧', // jiàn\n  1e40: '正', // zhēng\n  1e44: '载', // zài\n}\nconst base = [\n  '零', // líng\n  '一', // yī\n  '二', // èr\n  '三', // sān\n  '四', // sì\n  '五', // wǔ\n  '六', // liù\n  '七', // qī\n  '八', // bā\n  '九', // jiǔ\n  '十', // shí\n]\n\nexport default function arabic2chinese(a) {\n  let s = ''\n\n  if (a < 0) {\n    s += mods.neg\n    a = Math.abs(a)\n  }\n\n  // 1e4-1e8 category patterns\n  if (a >= 1e4 && a <= 1e8 - 1) {\n    const _ = (a - (a % 1e4)) / 1e4\n    s += category(_)\n    s += mods[1e4]\n\n    // dispatch to < 1e4 patterns\n    a = a % 1e4\n    if (a < 1e3) {\n      s += base[0]\n    }\n  }\n\n  // < 1e4 category patterns\n  s += category(a)\n\n  // More than one zero in a row becomes a single zero\n  s = s.replace(new RegExp(base[0] + '{2,3}', 'g'), base[0])\n\n  // Trailing zero's\n  if (s.length > 1) {\n    s = s.replace(new RegExp(base[0] + '+$'), '')\n  }\n\n  return s\n}\n\nfunction category(a) {\n  const div1000 = (x) => x % 1000 === 0\n  const div100x = (x) => x % 1000 < 10\n  const div10x0 = (x) => div1000(x - (x % 100)) && div10(x % 10)\n  const div10xx = (x) => div1000(x - (x % 100)) && !div10(x % 10)\n  const div100 = (x) => x % 100 === 0\n  const div10x = (x) => div100(x - (x % 10))\n  const div10 = (x) => x % 10 === 0\n\n  const pattern_thousands = (x) => base[x / 1000] + mods[1e3]\n  const pattern_101_999 = (x) => base[Math.floor(x / 100)] + mods[1e2]\n  const pattern_hundreds = (x) => base[x / 100] + mods[1e2]\n  const pattern_21_99 = (x) =>\n    base[Math.floor(x / 10)] + mods[1e1] + base[x - Math.floor(x / 10) * 10]\n  const pattern_tens = (x) => base[x / 10] + mods[1e1]\n  const pattern_10_19 = (x) => mods[1e1] + base[x - 10]\n  const pattern_0_10 = (x) => base[x]\n\n  let s = ''\n\n  // thousands pattern: 1000 = 1+1000\n  if (a >= 1000 && a <= 9999 && div1000(a)) {\n    s += pattern_thousands(a)\n  }\n\n  // 1001-9999 pattern: 1234 = 1+1000+2+100+3+10+4\n  if (a >= 1000 && a <= 9999 && !div1000(a)) {\n    s += pattern_thousands(a - (a % 1000))\n\n    // [1001] with zero's in the hundreds and tens place: 1001 = 1+1000+0+1\n    if (div100x(a)) {\n      s += base[0]\n      s += pattern_0_10(a % 100)\n    }\n\n    // [1010] with zero's in the hundreds and ones place: 1010 = 1+1000+0+1+10\n    else if (div10x0(a)) {\n      s += base[0]\n      s += pattern_tens(a % 100) // a = [1234 -> 34]\n    }\n\n    // [1011] with a zero in the hundreds place: 1011 = 1+1000+0+1+10+1\n    else if (div10xx(a)) {\n      s += base[0]\n      s += pattern_21_99(a % 100) // a = [1234 -> 34]\n    }\n\n    // dispatch to < 1000 patterns\n    else {\n      a -= Math.floor(a / 1000) * 1000\n    }\n  }\n\n  // hundreds pattern: 100 = 1+100\n  if (a >= 100 && a <= 999 && div100(a)) {\n    s += pattern_hundreds(a)\n  }\n\n  // 101-999 pattern\n  if (a >= 101 && a <= 999 && !div100(a)) {\n    s += pattern_101_999(a)\n\n    // with a zero in the ones place: 760 = 7+100+6+10\n    if (!div100(a) && div10(a) && !div10x(a)) {\n      s += pattern_tens(a - Math.floor(a / 100) * 100)\n    }\n\n    // with a zero in the tens place: 506 = 5+100+0+6\n    if (!div100(a) && !div10(a) && div10x(a)) {\n      s += base[0]\n      s += pattern_0_10(a - Math.floor(a / 100) * 100)\n    }\n\n    // generic: 135 = 1+100+3+10+5\n    if (!div100(a) && !div10(a) && !div10x(a)) {\n      s += pattern_21_99(a - Math.floor(a / 100) * 100)\n    }\n  }\n\n  // tens pattern: 30 = 3+10\n  if (a >= 20 && a <= 90 && div10(a)) {\n    s += pattern_tens(a)\n  }\n\n  // 21-99 pattern: 21 = 2+10+1\n  if (a >= 21 && a <= 99 && !div10(a)) {\n    s += pattern_21_99(a)\n  }\n\n  // 11-19 pattern: 11 = 10+1\n  if (a >= 11 && a <= 19) {\n    s += pattern_10_19(a)\n  }\n\n  // 0-10 pattern\n  if (a >= 0 && a <= 10) {\n    s += pattern_0_10(a)\n  }\n\n  return s\n}\n","import React, { useEffect, useRef, useState } from 'react'\n// import useVisualViewport from '../../../hooks/viewport'\n\nimport { weightedRandomInt } from '../../../utils/random'\nimport arabic2chinese from '../../../utils/arabic2chinese'\nimport { isEqualCharacters } from '../../../utils/chinese'\n\nimport './index.scss'\n\nconst FOCUS_DELAY_MS = 50\nconst ENTER_KEY = 13\n\nconst getSemiRandomInt = () =>\n  weightedRandomInt([\n    { weight: 2 /* 25% */, min: 0, max: 99 },\n    { weight: 2 /* 25% */, min: 0, max: 990 },\n    { weight: 2 /* 25% */, min: 0, max: 9999 },\n    { weight: 1 /* 12.5% */, min: -999, max: -1 },\n    { weight: 1 /* 12.5% */, min: -9999, max: -1 },\n  ])\n\nexport default function Numbers() {\n  const answerRef = useRef(null)\n\n  // const visualViewport = useVisualViewport()\n\n  const [state, setState] = useState('start')\n\n  const [answers, setAnswers] = useState([])\n  const addAnswer = (a) => setAnswers(answers.concat(a))\n  const checkAnswer = (n) => {\n    const correct = arabic2chinese(n)\n    const attempt = answerRef.current.value\n    setState(isEqualCharacters(attempt, correct) ? 'correct' : 'incorrect')\n    addAnswer({ n, attempt, correct })\n  }\n\n  useEffect(() => {\n    if (answerRef.current)\n      setTimeout(() => answerRef.current.focus(), FOCUS_DELAY_MS)\n  })\n\n  useEffect(() => {\n    const fn = (e) => {\n      e.preventDefault()\n      if (e.keyCode === ENTER_KEY) nextAction()\n    }\n    window.addEventListener('keyup', fn)\n    return () => window.removeEventListener('keyup', fn)\n  })\n\n  let nextAction\n  switch (state) {\n    case 'question':\n      const int = getSemiRandomInt()\n      nextAction = () => checkAnswer(int)\n      return (\n        <section className='section section--numbers-practice'>\n          <p className='assignment-description'>Translate to Chinese</p>\n          <p className='assignment-text'>{int}</p>\n          <input ref={answerRef} className='practice-input' type='text' />\n          <button className='cta--next' onClick={nextAction}>\n            Check\n          </button>\n        </section>\n      )\n\n    case 'correct':\n      nextAction = () => setState('question')\n      return (\n        <section className='section section--correct section--numbers-practice'>\n          <p className='assignment-result'>\n            <span role='img' aria-label='check'>\n              ✔\n            </span>{' '}\n            Correct!\n          </p>\n          <button className='cta--next' onClick={nextAction}>\n            Continue\n          </button>\n        </section>\n      )\n\n    case 'incorrect':\n      nextAction = () => setState('question')\n      return (\n        <section className='section section--incorrect section--numbers-practice'>\n          <p className='assignment-result'>\n            <span role='img' aria-label='cross'>\n              ❌\n            </span>{' '}\n            Incorrect!\n          </p>\n          {answers[answers.length - 1] && (\n            <p className='assignment-description'>\n              Correct answer: {answers[answers.length - 1].correct}\n            </p>\n          )}\n          <button className='cta--next' onClick={nextAction}>\n            Continue\n          </button>\n        </section>\n      )\n\n    default:\n    case 'start':\n      nextAction = () => setState('question')\n      return (\n        <section className='section section--numbers-practice'>\n          <p className='assignment-description'>\n            Translate arabic numbers to Chinese\n          </p>\n          <button className='cta--next' onClick={nextAction}>\n            Start\n          </button>\n        </section>\n      )\n  }\n}\n","import Home from '../pages/home'\nimport NotFound from '../pages/not-found'\n\nimport Read from '../pages/practice/read'\nimport Numbers from '../pages/numbers'\n\nexport default [\n  {\n    path: '/read',\n    component: Read,\n    name: 'Practice: Read',\n  },\n\n  {\n    path: '/numbers',\n    component: Numbers,\n    name: 'Practice: Numbers',\n  },\n\n  {\n    path: '/',\n    component: (props) => (props.match.isExact ? Home(props) : NotFound(props)),\n    name: 'Home',\n  },\n]\n","import React from 'react'\n\nexport default function Home() {\n  return <div>Home</div>\n}\n","import React from 'react'\n\nexport default function NotFound() {\n  return <div>404 Not Found</div>\n}\n","import React from 'react'\n\nimport './index.scss'\n\nfunction Logo() {\n  return (\n    <figure className=\"logo\">\n      <img className=\"logo__svg\" alt=\"练习中文\" src=\"./static/img/logo.svg\" />\n      <h1 className=\"logo__title\">\n        <span>Practice</span> <span>Chinese</span>\n      </h1>\n    </figure>\n  )\n}\n\nexport default Logo\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { find, filter, concat } from 'ramda'\n\nimport './index.scss'\n\n// Sort 'Search' first, remove NotFound\nexport function sortRoutes(routes) {\n  const isSearch = (x) => x.path === '/'\n  const isNotFound = (x) => x.path\n  const x = find(isSearch, routes)\n  const xs = filter((y) => y !== x && isNotFound(y), routes)\n  return concat([x], xs)\n}\n\nexport default function Nav({ routes }) {\n  const [isOpen, setOpen] = useState(false)\n\n  // Recursively render ol>li\n  const renderRoutes = (routes, indent = 0) => (\n    <ol className={`menu menu--indent${indent}`}>\n      {routes.map((route, i) => (\n        <li key={i}>\n          <Link to={route.path} onClick={() => setOpen(false)}>\n            {route.name}\n          </Link>\n          {route.routes && renderRoutes(route.routes, indent + 1)}\n        </li>\n      ))}\n    </ol>\n  )\n\n  if (!isOpen) {\n    return (\n      <div className=\"nav\">\n        <button\n          className=\"nav__toggle nav__toggle--open\"\n          onClick={() => setOpen(true)}\n        ></button>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"nav\">\n      <button\n        className=\"nav__toggle nav__toggle--close\"\n        onClick={() => setOpen(false)}\n      ></button>\n      <nav className=\"nav__menu\">{renderRoutes(sortRoutes(routes))}</nav>\n    </div>\n  )\n}\n","import React from 'react'\n\nimport { Link } from 'react-router-dom'\n\nimport Logo from '../../atoms/logo'\nimport Nav from '../../atoms/nav'\n\nexport default function Header({ routes }) {\n  return (\n    <>\n      <Link to={'/'} className=\"logo__parent\">\n        <Logo />\n      </Link>\n      <Nav routes={routes} />\n    </>\n  )\n}\n","import React from 'react'\n\nimport { HashRouter as Router } from 'react-router-dom'\nimport RenderRoute from '../../utils/render-route'\nimport pkg from '../../../package.json'\nimport routes from './routes.js'\n\nimport Header from '../../presenters/molecules/header'\n\nimport './index.scss'\n\nexport default function App() {\n  return (\n    <Router basename={pkg.homepage}>\n      <div className=\"layout__container\">\n        <header className=\"layout__header\">\n          <Header routes={routes} />\n        </header>\n        <main className=\"layout__body\">\n          <RenderRoute routes={routes} />\n        </main>\n      </div>\n    </Router>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './containers/app'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}